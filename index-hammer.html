<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<style>
		body { background: #3C3C3C; display: -webkit-flex; display: flex; -webkit-align-items: center; align-items: center; -webkit-justify-content: center; justify-content: center; }
		.frame { width:100%; position: fixed; text-align: center; background: #3c3c3c; z-index:9999; color:#fff; }
		.top { height:100px; top:0; box-shadow:0px 4px 8px 0px #000; line-height: 120px; }
		.bottom { height: 100px; bottom:0; box-shadow:0px -4px 8px 0px #000; line-height:100px; }
		#hud {
  background: rgba(0,0,0,0.6);
  position: absolute;
  padding: 10px 20px;
  color: #FFF;
  font-family: sans-serif;
  font-size: 1.2em;
  pointer-events: none;
  z-index: 9999;
  left:0; top:0;
}
	</style>
</head>
<body>
	
<div class="frame top" style=""><img src="img/logo.png" /></div>	

<div class="frame bottom" >+</div>	
		
<!-- Image Map Generated by http://www.image-map.net/ -->
<!-- <div class="imageContainer"><img src="img/homelayout.png" usemap="#image-map" width="3175px"></div> -->
<div class="imageContainer"></div>
<div id="hud"></div>

<map name="image-map">
    <area target="" alt="" title="" href="a01.html" coords="38,24,139,104" shape="rect">
    <area target="" alt="" title="" href="a02.html" coords="179,27,271,139" shape="rect">
    <area target="" alt="" title="" href="a03.html" coords="310,26,386,144" shape="rect">
    <area target="" alt="" title="" href="a05.html" coords="563,26,644,141" shape="rect">
    <area target="" alt="" title="" href="a06.html" coords="686,26,801,116" shape="rect">
    <area target="" alt="" title="" href="a07.html" coords="849,24,939,145" shape="rect">
    <area target="" alt="" title="" href="a08.html" coords="978,28,1160,143" shape="rect">
    <area target="" alt="" title="" href="a12.html" coords="1584,24,1817,114" shape="rect">
    <area target="" alt="" title="" href="a15.html" coords="2108,24,2341,103" shape="rect">
    <area target="" alt="" title="" href="a16.html" coords="2380,28,2557,140" shape="rect">
    <area target="" alt="" title="" href="a18.html" coords="2742,22,2854,149" shape="rect">
    <area target="" alt="" title="" href="a19.html" coords="2902,25,3138,146" shape="rect">
    <area target="" alt="" title="" href="b01.html" coords="38,200,204,312" shape="rect">
    <area target="" alt="" title="" href="b03.html" coords="347,218,577,293" shape="rect">
    <area target="" alt="" title="" href="b05.html" coords="711,212,829,296" shape="rect">
    <area target="" alt="" title="" href="b06.html" coords="874,199,1093,308" shape="rect">
    <area target="" alt="" title="" href="b07.html" coords="1149,205,1365,315" shape="rect">
    <area target="" alt="" title="" href="b10.html" coords="1657,207,1766,303" shape="rect">
    <area target="" alt="" title="" href="b11.html" coords="1825,212,1948,296" shape="rect">
    <area target="" alt="" title="" href="b12.html" coords="1999,190,2206,335" shape="rect">
    <area target="" alt="" title="" href="b15.html" coords="2529,185,2728,333" shape="rect">
    <area target="" alt="" title="" href="c04.html" coords="515,381,627,476" shape="rect">
    <area target="" alt="" title="" href="c05.html" coords="678,376,790,472" shape="rect">
    <area target="" alt="" title="" href="c06.html" coords="843,366,1031,489" shape="rect">
    <area target="" alt="" title="" href="c07.html" coords="1099,363,1292,484" shape="rect">
    <area target="" alt="" title="" href="c11.html" coords="1850,362,2462,500" shape="rect">
    <area target="" alt="" title="" href="c13.html" coords="2689,362,2880,489" shape="rect">
    <area target="" alt="" title="" href="c14.html" coords="2944,363,3135,487" shape="rect">
    <area target="" alt="" title="" href="d01.html" coords="38,573,198,676" shape="rect">
    <area target="" alt="" title="" href="d03.html" coords="347,559,543,687" shape="rect">
    <area target="" alt="" title="" href="d04.html" coords="580,574,784,674" shape="rect">
    <area target="" alt="" title="" href="d07.html" coords="1085,559,1292,690" shape="rect">
    <area target="" alt="" title="" href="d10.html" coords="1539,560,1746,692" shape="rect">
    <area target="" alt="" title="" href="d13.html" coords="2027,559,2229,690" shape="rect">
    <area target="" alt="" title="" href="d14.html" coords="2279,555,2481,689" shape="rect">
    <area target="" alt="" title="" href="d15.html" coords="2537,560,2737,691" shape="rect">
    <area target="" alt="" title="" href="d16.html" coords="2787,558,2972,689" shape="rect">
    <area target="" alt="" title="" href="d17.html" coords="3014,585,3135,669" shape="rect">
    <area target="" alt="" title="" href="e01.html" coords="41,738,240,856" shape="rect">
    <area target="" alt="" title="" href="e02.html" coords="285,739,493,851" shape="rect">
    <area target="" alt="" title="" href="e03.html" coords="535,741,742,858" shape="rect">
    <area target="" alt="" title="" href="e04.html" coords="779,733,986,851" shape="rect">
    <area target="" alt="" title="" href="e05.html" coords="1028,739,1228,854" shape="rect">
    <area target="" alt="" title="" href="e06.html" coords="1267,740,1472,855" shape="rect">
    <area target="" alt="" title="" href="e08.html" coords="1659,741,1864,853" shape="rect">
    <area target="" alt="" title="" href="e09.html" coords="1912,740,2111,852" shape="rect">
    <area target="" alt="" title="" href="e11.html" coords="2299,741,2504,858" shape="rect">
    <area target="" alt="" title="" href="e12.html" coords="2549,736,2751,854" shape="rect">
    <area target="" alt="" title="" href="e13.html" coords="2790,740,3000,855" shape="rect">
    <area target="" alt="" title="" href="f01.html" coords="38,904,249,1016" shape="rect">
    <area target="" alt="" title="" href="f02.html" coords="280,904,487,1019" shape="rect">
    <area target="" alt="" title="" href="f03.html" coords="518,903,723,1021" shape="rect">
    <area target="" alt="" title="" href="f05.html" coords="877,902,1082,1020" shape="rect">
    <area target="" alt="" title="" href="f06.html" coords="1104,905,1315,1019" shape="rect">
    <area target="" alt="" title="" href="f08.html" coords="1477,905,1685,1017" shape="rect">
    <area target="" alt="" title="" href="f09.html" coords="1721,907,1929,1019" shape="rect">
    <area target="" alt="" title="" href="f10.html" coords="1957,905,2167,1017" shape="rect">
    <area target="" alt="" title="" href="f11.html" coords="2198,903,2403,1018" shape="rect">
    <area target="" alt="" title="" href="f13.html" coords="2568,903,2770,1021" shape="rect">
    <area target="" alt="" title="" href="f14.html" coords="2795,906,3006,1018" shape="rect">
    <area target="" alt="" title="" href="g03.html" coords="535,1190,324,1075" shape="rect">
    <area target="" alt="" title="" href="g05.html" coords="706,1075,913,1187" shape="rect">
    <area target="" alt="" title="" href="g06.html" coords="953,1074,1155,1192" shape="rect">
    <area target="" alt="" title="" href="g07.html" coords="1200,1077,1401,1189" shape="rect">
    <area target="" alt="" title="" href="g08.html" coords="1441,1077,1645,1192" shape="rect">
    <area target="" alt="" title="" href="g10.html" coords="1828,1076,2035,1191" shape="rect">
    <area target="" alt="" title="" href="g11.html" coords="2072,1076,2277,1188" shape="rect">
    <area target="" alt="" title="" href="g12.html" coords="2313,1075,2518,1187" shape="rect">
    <area target="" alt="" title="" href="g14.html" coords="2686,1075,2891,1190" shape="rect">
    <area target="" alt="" title="" href="g15.html" coords="2924,1076,3132,1188" shape="rect">
</map>


	
	<script type="text/javascript" src="cordova.js"></script>
	<script src="assets/jquery-1.8.3.min.js"></script>
	<script src="assets/imageMapResizer.min.js"></script>
	<script src="assets/hammer.js"></script>
	<script>
		//$('map').imageMapResize();
		
		
		'use strict';

const imageUrl = 'img/homelayout.png';
const imageContainer = document.querySelector('.imageContainer');
const hud = document.querySelector('#hud');

let minScale = 0.3;
let maxScale = 1;
let imageWidth;
let imageHeight;
let containerWidth;
let containerHeight;
let displayImageX = 0;
let displayImageY = 0;
let displayImageScale = 0.3;

let displayDefaultWidth;
let displayDefaultHeight;

let rangeX = 0;
let rangeMaxX = 0;
let rangeMinX = 0;

let rangeY = 0;
let rangeMaxY = 0;
let rangeMinY = 0;

let displayImageRangeY = 0;

let displayImageCurrentX = 0;
let displayImageCurrentY = 0;
let displayImageCurrentScale = 1;


function resizeContainer() {
  containerWidth = imageContainer.offsetWidth;
  containerHeight = imageContainer.offsetHeight;
  if (displayDefaultWidth !== undefined && displayDefaultHeight !== undefined) {
    displayDefaultWidth = displayImage.offsetWidth;
    displayDefaultHeight = displayImage.offsetHeight;
    updateRange();
    displayImageCurrentX = clamp( displayImageX, rangeMinX, rangeMaxX );
    displayImageCurrentY = clamp( displayImageY, rangeMinY, rangeMaxY );
    updateDisplayImage(
      displayImageCurrentX,
      displayImageCurrentY,
      displayImageCurrentScale );
  }
}

resizeContainer();

function clamp(value, min, max) {
  return Math.min(Math.max(min, value), max);
}

function clampScale(newScale) {
  return clamp(newScale, minScale, maxScale);
}

window.addEventListener('resize', resizeContainer, true);

const displayImage = new Image();
displayImage.src = imageUrl;
displayImage.setAttribute("usemap","#image-map");
displayImage.onload = function(){
  imageWidth = displayImage.width;
  imageHeight = displayImage.height;
  imageContainer.appendChild(displayImage);
  displayImage.addEventListener('mousedown', e => e.preventDefault(), false);
  displayDefaultWidth = displayImage.offsetWidth;
  displayDefaultHeight = displayImage.offsetHeight;
  rangeX = Math.max(0, displayDefaultWidth - containerWidth);
  rangeY = Math.max(0, displayDefaultHeight - containerHeight);
}

imageContainer.addEventListener('wheel', e => {
  displayImageScale = displayImageCurrentScale = clampScale(displayImageScale + (e.wheelDelta / 800));
  updateRange();
  displayImageCurrentX = clamp(displayImageCurrentX, rangeMinX, rangeMaxX)
  displayImageCurrentY = clamp(displayImageCurrentY, rangeMinY, rangeMaxY)
	updateDisplayImage(displayImageCurrentX, displayImageCurrentY, displayImageScale);  
}, false);

function updateDisplayImage(x, y, scale) {
  const transform = 'translateX(' + x + 'px) translateY(' + y + 'px) translateZ(0px) scale(' + scale + ',' + scale + ')';
  displayImage.style.transform = transform;
  displayImage.style.WebkitTransform = transform;
  displayImage.style.msTransform = transform;
  updateHud();
}

function updateRange() {
  rangeX = Math.max(0, Math.round(displayDefaultWidth * displayImageCurrentScale) - containerWidth);
  rangeY = Math.max(0, Math.round(displayDefaultHeight * displayImageCurrentScale) - containerHeight);
  
  rangeMaxX = Math.round(rangeX / 2);
  rangeMinX = 0 - rangeMaxX;

  rangeMaxY = Math.round(rangeY / 2);
  rangeMinY = 0 - rangeMaxY;
}

function updateHud() {
  let hudText = `<pre>
<b>Current</b>
<b>Scale:</b>     ${displayImageCurrentScale.toFixed(4)}
<b>X:</b>         ${displayImageCurrentX}
<b>Y:</b>         ${displayImageCurrentY}

<b>Range</b>
<b>rangeX:</b>    ${rangeX}
<b>rangeMinX:</b> ${rangeMinX}
<b>rangeMaxX:</b> ${rangeMaxX}

<b>rangeY:</b>    ${rangeY}
<b>rangeMinY:</b> ${rangeMinY}
<b>rangeMaxY:</b> ${rangeMaxY}

<b>Updated</b>
<b>Scale:</b>     ${displayImageScale.toFixed(4)}
<b>X:</b>         ${displayImageX}
<b>Y:</b>         ${displayImageY}
</pre>`;
  hud.innerHTML = hudText;
}

const hammertime = new Hammer(imageContainer);

hammertime.get('pinch').set({ enable: true });
hammertime.get('pan').set({ direction: Hammer.DIRECTION_ALL });

hammertime.on('pan', ev => {  
  displayImageCurrentX = clamp(displayImageX + ev.deltaX, rangeMinX, rangeMaxX);
  displayImageCurrentY = clamp(displayImageY + ev.deltaY, rangeMinY, rangeMaxY);
	updateDisplayImage(displayImageCurrentX, displayImageCurrentY, displayImageScale);
});

hammertime.on('pinch pinchmove', ev => {
  displayImageCurrentScale = clampScale(ev.scale * displayImageScale);
  updateRange();
  displayImageCurrentX = clamp(displayImageX + ev.deltaX, rangeMinX, rangeMaxX);
  displayImageCurrentY = clamp(displayImageY + ev.deltaY, rangeMinY, rangeMaxY);
  updateDisplayImage(displayImageCurrentX, displayImageCurrentY, displayImageCurrentScale);
});

hammertime.on('panend pancancel pinchend pinchcancel', () => {
  displayImageScale = displayImageCurrentScale;
  displayImageX = displayImageCurrentX;
  displayImageY = displayImageCurrentY;
});  
		
		
	</script>
</body>
</html>
